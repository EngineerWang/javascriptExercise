<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
	*{
		margin:0;
		padding:0;
	}
	#div{
		position:absolute;
		width:150px;
		height:200px;
		background-color: red;
	}
</style>
<body>
	<div id="div"></div>



	<script>
	window.onload = function(){
		var oDiv = document.getElementById("div");
		oDiv.onmousedown = function(e){
			e = e || event;
			var x = e.clientX - oDiv.offsetLeft;
			var y = e.clientY - oDiv.offsetTop;
			document.onmousemove = function(e){
				e = e || event;
				var iLeft= e.clientX - x;
				var iTop = e.clientY - y;
				var oWidth=document.documentElement.clientWidth-oDiv.offsetWidth;
    			var oHeight=document.documentElement.clientHeight-oDiv.offsetHeight; 
				if(iLeft < 0){
					iLeft = 0;
				}else if(iLeft > oWidth){
					iLeft = oWidth;
				}
				if(iTop < 0){
					iTop = 0;
				}else if(iTop > oHeight){
					iTop = oHeight;
				}
				oDiv.style.left = iLeft + "px";
				oDiv.style.top = iTop + "px";
			}
			document.onmouseup = function(){
				document.onmousemove = null;
				document.onmouseup = null;
			}
			return false;
		}
		}
	</script>
</body>
</html>